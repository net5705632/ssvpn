name: Extract SS Nodes
on:
  schedule:
    - cron: '0 0 * * *'  # æ¯å¤© UTC æ—¶é—´ 0 ç‚¹è¿è¡Œ
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  run-script:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      - name: Install dependencies
        run: |
          pip install requests pyaes

      - name: Run script and save output
        run: |
          python your_script.py > ss.txt  # é‡å®šå‘è¾“å‡ºåˆ°æ–‡ä»¶
          echo "SS nodes extracted at $(date)" >> ss.txt  # æ·»åŠ æ—¶é—´æˆ³

      - name: Upload result
        uses: actions/upload-artifact@v3
        with:
          name: ss-nodes
          path: ss.txt
# åŸä»£ç ...

if j.status_code == 200:
    with open("ss.txt", "w") as file:
        file.write("ğ“† Generated SS Nodes ğ“†Ÿ\n\n")
        for o in n['data']:
            p = f"aes-256-cfb:{o['password']}@{o['ip']}:{o['port']}"
            q = base64.b64encode(p.encode('utf-8')).decode('utf-8')
            r = f"ss://{q}#{o['title']}\n"
            file.write(r)  # å†™å…¥æ–‡ä»¶
        file.write("\nğ“† End of List ğ“†Ÿ")
